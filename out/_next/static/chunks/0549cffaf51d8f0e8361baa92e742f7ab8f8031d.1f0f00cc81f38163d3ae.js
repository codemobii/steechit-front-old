(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[10],{Jh6j:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a("o0o1"),r=a.n(n),o=a("HaE+"),c=a("vDqi"),s=a.n(c),i=a("LvDl"),u=a("yuru"),l=function(e,t){return function(){var a=Object(o.a)(r.a.mark((function a(n){var o,c;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,s()({headers:{"Access-Control-Allow-Origin":"*",Authorization:"Bearer ".concat(e)},proxy:{host:"104.236.174.88",port:3128},method:"GET",url:"".concat("https://api.steechit.com/","users/").concat(t)});case 3:o=a.sent,n({type:u.b,payload:{success:!0,message:"User data selected",email:o.data.email,phone:o.data.phone,role:o.data.role,verified:o.data.verified,firstName:o.data.firstName,lastName:o.data.lastName,country:o.data.country,state:o.data.state,dateOfBirth:o.data.dateOfBirth,gender:o.data.gender,address:o.data.contact.address,zipCode:o.data.contact.zipCode,imageUrl:o.data.avatar.url}}),a.next=11;break;case 7:a.prev=7,a.t0=a.catch(0),c=Object(i.get)(a.t0,"response.data.message")||a.t0.message,n({type:u.b,payload:{success:!1,message:c}});case 11:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()}},dEFw:function(e,t,a){"use strict";a.d(t,"a",(function(){return v}));var n=a("o0o1"),r=a.n(n),o=a("HaE+"),c=a("x242"),s=a("vDqi"),i=a.n(s),u=a("LvDl"),l=a("nOHt"),p=a("q1tI"),d=a.n(p),m=a("/MKj"),h=a("gxTT"),g=a("bYqf"),f=a("BsLd"),b=d.a.createElement;function v(e){e.user;var t=Object(m.c)((function(e){return e.auth})),a=t.token,n=t._id,s=Object(l.useRouter)(),v=Object(p.useState)(""),x=v[0],w=v[1],y=Object(p.useState)(""),O=y[0],j=y[1],C=Object(p.useState)(""),S=C[0],k=C[1],z=Object(p.useState)(""),A=z[0],I=z[1],L=Object(p.useState)(""),B=L[0],E=L[1],N=Object(p.useState)([]),D=N[0],_=N[1],G=Object(p.useState)([]),T=G[0],U=G[1],F=Object(p.useState)(""),q=F[0],P=F[1],H=Object(p.useState)([]),J=H[0],R=H[1],K=Object(p.useState)(""),M=K[0],W=K[1],Y=Object(p.useState)(""),Z=Y[0],Q=Y[1],V=Object(p.useState)(""),X=V[0],$=V[1],ee=Object(p.useState)(!1),te=ee[0],ae=ee[1],ne=Object(p.useState)(!1),re=(ne[0],ne[1]),oe=Object(p.useState)(!1),ce=oe[0],se=oe[1],ie=Object(p.useState)(""),ue=ie[0],le=ie[1],pe=Object(p.useState)(""),de=pe[0],me=pe[1],he=Object(p.useState)(""),ge=he[0],fe=(he[1],Object(p.useState)("")),be=fe[0],ve=(fe[1],Object(p.useState)(!1)),xe=ve[0],we=ve[1],ye=Object(p.useState)(""),Oe=ye[0],je=ye[1],Ce=Object(p.useState)(!0),Se=Ce[0],ke=Ce[1],ze=Object(p.useState)(!1),Ae=ze[0],Ie=ze[1],Le=Object(p.useState)("Update Geolocation"),Be=Le[0],Ee=Le[1];Object(p.useEffect)((function(){var e=function(){var e=Object(o.a)(r.a.mark((function e(){var t,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i()({headers:{"Access-Control-Allow-Origin":"*",Authorization:"Bearer ".concat(a)},proxy:{host:"104.236.174.88",port:3128},method:"GET",url:"".concat("https://api.steechit.com/","stores/"),params:{user:n}});case 2:t=e.sent,void 0===(o=t.data[0])?s.push("/profile/store/start"):(w(o._id),j(o.storeName),me(o.storeBanner.url),le(o.storeLogo.url),k(o.email),I(o.phone),P(o.state),$(o.city),Q(o.zipCode),_(o.productCategories[0]),W(o.address),ke(!1)),console.log(o);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=function(){var e=Object(o.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i()({headers:{"Access-Control-Allow-Origin":"*",Authorization:"Bearer ".concat(a)},proxy:{host:"104.236.174.88",port:3128},method:"GET",url:"".concat("https://api.steechit.com/","countries/")});case 2:t=e.sent,E(t.data[0]._id);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c=function(){var e=Object(o.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i()({headers:{"Access-Control-Allow-Origin":"*",Authorization:"Bearer ".concat(a)},proxy:{host:"104.236.174.88",port:3128},method:"GET",url:"".concat("https://api.steechit.com/","states/")});case 2:t=e.sent,R(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=Object(o.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i()({headers:{"Access-Control-Allow-Origin":"*",Authorization:"Bearer ".concat(a)},proxy:{host:"104.236.174.88",port:3128},method:"GET",url:"".concat("https://api.steechit.com/","categories/")});case 2:t=e.sent,U(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e(),t(),c(),u()}),[a,ge,be]);var Ne=function(){var e=Object(o.a)(r.a.mark((function e(t){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.files[0],se(!0),(n=new FormData).append("image",a,a.name,a.size,a.type),e.next=6,i.a.post("https://steechit-image-manager.herokuapp.com/upload",n).then((function(e){je("Logo upload was successful."),we(!0),le(e.data.link)})).catch((function(e){je("Something went wrong"),we(!0)})).finally((function(){se(!1)}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),De=function(){var e=Object(o.a)(r.a.mark((function e(t){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.files[0],re(!0),(n=new FormData).append("image",a,a.name,a.size,a.type),e.next=6,i.a.post("https://steechit-image-manager.herokuapp.com/upload",n).then((function(e){me(e.data.link),je("Store banner uploaded successfully"),we(!0)})).catch((function(){je("Something went wrong"),we(!0)})).finally((function(){re(!1)}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_e=function(){var e=Object(o.a)(r.a.mark((function e(t){var n,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),ae(!0),e.prev=2,e.next=5,i()({headers:{"Access-Control-Allow-Origin":"*",Authorization:"Bearer ".concat(a)},proxy:{host:"104.236.174.88",port:3128},method:"PUT",url:"".concat("https://api.steechit.com/","stores/").concat(x),data:{storeName:O,phone:A,email:S,storeLogo:{thumb:"",url:ue},storeBanner:{thumb:"",url:de},country:B,state:q,city:X,address:M,zipCode:Z,productCategories:D}});case 5:n=e.sent,ae(!1),je("Store edited successfully"),we(!0),ae(!1),console.log(n),e.next=20;break;case 13:e.prev=13,e.t0=e.catch(2),o=Object(u.get)(e.t0,"response.data.message")||e.t0.message,console.log(e.t0),je(o),we(!0),ae(!1);case 20:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t){return e.apply(this,arguments)}}(),Ge=function(){var e=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ie(!0),Ee("Getting location data"),navigator.geolocation?navigator.geolocation.getCurrentPosition(function(){var e=Object(o.a)(r.a.mark((function e(t){var n,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i()({headers:{"Access-Control-Allow-Origin":"*",Authorization:"Bearer ".concat(a)},proxy:{host:"104.236.174.88",port:3128},method:"PUT",url:"".concat("https://api.steechit.com/","stores/").concat(x),data:{geolocation:{long:t.coords.longitude,lat:t.coords.latitude}}});case 3:n=e.sent,Ie(!1),Ee("Update Geolocation"),je("Geolocation updated successfully"),we(!0),ae(!1),console.log(n),e.next=20;break;case 12:e.prev=12,e.t0=e.catch(0),o=Object(u.get)(e.t0,"response.data.message")||e.t0.message,console.log(e.t0),je(o),we(!0),Ie(!1),Ee("Update Geolocation");case 20:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()):(Ie(!1),Ee("Update Geolocation"));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return b(d.a.Fragment,null,Se?b(f.a,null):b("form",{onSubmit:_e},b(c.Row,null,b(c.Col,{size:"12"},b(c.Div,{d:"flex",align:"center",justify:"center",m:{t:"1rem",b:"3rem"},pos:"relative"},b(c.Image,{src:de,w:"100%",h:"150px",rounded:"lg",pos:"absolute",top:"0",left:"0",style:{objectFit:"cover"}}),b(c.Div,{pos:"absolute",top:"0",left:"0",w:"100%",h:"150",rounded:"lg",bg:"red"}),b("div",{className:"selectImageIcon",style:{bottom:20,right:10}},b("input",{type:"file",ml:10,className:"selectImage",onChange:De})),b(c.Div,{m:{t:"3rem"},rounded:"circle",pos:"relative",bg:"gray200",w:"120px",h:"120px"},b(c.Image,{pos:"absolute",rounded:"circle",overflow:"hidden",w:"100%",h:"100%",style:{objectFit:"cover"},left:"0",right:"0",src:ue,shadow:"3"}),ce?b(c.Div,{rounded:"circle",className:"overlay_light",d:"flex",align:"center",justify:"center"},b(c.Icon,{name:"Loading3",size:"32px"})):null,b("div",{className:"selectImageIcon"},b("input",{type:"file",className:"selectImage",onChange:Ne,src:ue}))))),b(c.Col,{size:{xs:"12",sm:"12",md:"12",lg:"6",xl:"6"}},b(c.Label,{d:"block",m:{b:"1rem"}},"Store name",b(c.Input,{placeholder:"Store name",value:O,onChange:function(e){j(e.target.value)}}))),b(c.Col,{size:{xs:"12",sm:"12",md:"12",lg:"6",xl:"6"}},b(c.Label,{d:"block",m:{b:"1rem"}},"Email address",b(c.Input,{placeholder:"Email address",value:S,onChange:function(e){k(e.target.value)}}))),b(c.Col,{size:{xs:"12",sm:"12",md:"12",lg:"6",xl:"6"}},b(c.Label,{d:"block",m:{b:"1rem"}},"Phone number",b(c.Input,{placeholder:"070********",value:A,onChange:function(e){I(e.target.value)},type:"number"}))),b(c.Col,{size:{xs:"12",sm:"12",md:"12",lg:"6",xl:"6"}},b(c.Label,{d:"block",m:{b:"1rem"}},"State",b("select",{class:"select",onChange:function(e){P(e.target.value)},value:q},b("option",null,"Select state"),J.map((function(e,t){return b("option",{key:e._id,value:e._id},e.name)}))))),b(c.Col,{size:{xs:"12",sm:"12",md:"12",lg:"6",xl:"6"}},b(c.Label,{d:"block",m:{b:"1rem"}},"City",b(c.Input,{placeholder:"Lagos",type:"text",value:X,onChange:function(e){$(e.target.value)}}))),b(c.Col,{size:{xs:"12",sm:"12",md:"12",lg:"6",xl:"6"}},b(c.Label,{d:"block",m:{b:"1rem"}},"Zip Code",b(c.Input,{placeholder:"1001010",value:Z,onChange:function(e){Q(e.target.value)}}))),b(c.Col,{size:{xs:"12",sm:"12",md:"12",lg:"6",xl:"6"}},b(c.Label,{d:"block",m:{b:"1rem"}},"Category",b("select",{class:"select",onChange:function(e){_(e.target.value)},value:D},b("option",null,"Select category"),T.map((function(e){return b("option",{key:e._id,value:e._id},e.categoryName)}))))),b(c.Col,{size:{xs:"12",sm:"12",md:"12",lg:"6",xl:"6"}},b(c.Label,{d:"block",m:{b:"1rem"}},"Address",b(c.Input,{placeholder:"Somewhere, somethere",value:M,onChange:function(e){W(e.target.value)}})))),b(c.Div,{flexWrap:"wrap",d:"flex",align:"center"},b(g.a,{loading:te,onClick:_e,title:te?"Saving":"Save Changes"}),b(c.Div,{m:{l:{xs:"0",sm:"0",md:"10px",lg:"10px",xl:"10px"},t:{xs:"10px",sm:"10px",md:"-",lg:"0",xl:"0"}}},b(h.a,{onClick:Ge,title:Be,loading:Ae})))),b(c.Notification,{bg:"warning700",isOpen:xe,onClose:function(){return we(!1)},prefix:b(c.Icon,{name:"CloseSolid",color:"white",size:"18px",m:{r:"0.5rem"}})},Oe))}},gxTT:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a("x242"),r=a("q1tI"),o=a.n(r).a.createElement;function c(e){var t=e.title,a=void 0===t?"Button":t,r=e.onClick,c=e.loading,s=void 0!==c&&c;return o(n.Button,{type:"button",bg:"black700",hoverBg:"black800",onClick:r,prefix:s?o(n.Icon,{name:"Loading3",size:"18px",color:"white",m:{r:"0.5rem"}}):null},a)}}}]);