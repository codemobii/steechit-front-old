_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[36],{ASrk:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/store/products",function(){return r("gFpB")}])},KMYT:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var o=r("x242"),a=r("q1tI"),n=r.n(a).a.createElement;function c(){return n(o.Div,{w:"100%",h:"300px",d:"flex",align:"center",justify:"center",textAlign:"center"},n(o.Div,null,n(o.Image,{src:"https://assets.jiji.ng/static/img/profile-redesign/adverts/no-adverts-images/no-adverts-active.svg",width:"300px",m:{b:"20px"}}),n(o.Text,{tag:"header",textSize:"title"},"Nothing found !")))}},gFpB:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return k}));var o=r("o0o1"),a=r.n(o),n=r("HaE+"),c=r("x242"),i=r("q1tI"),l=r.n(i),s=r("/MKj"),u=r("vDqi"),d=r.n(u),p=r("BsLd"),h=r("KMYT"),f=r("2gv+"),m=r("YFqc"),x=r.n(m),g=l.a.createElement;function b(e){var t=e.isOpen,r=e.onClose;e.product,Object(s.c)((function(e){return e.user}));return g(c.Modal,{isOpen:t,onClose:r,align:{xs:"flex-start",sm:"flex-start",md:"flex-start",lg:"center",xl:"center"},rounded:"md",maxW:"25rem",p:"20px",bg:"#fff",overflow:"hidden"},g(c.Icon,{name:"Cross",pos:"absolute",top:"1rem",right:"1rem",size:"32px",onClick:r,cursor:"pointer"}),g(c.Text,{textAlign:"center",tag:"header",textSize:"title",m:{b:"2rem"}},"Delete product?"),g(c.Div,{d:"flex",justify:"flex-end"},g(c.Button,{onClick:r,bg:"gray200",textColor:"medium",m:{r:"1rem"}},"Cancel"),g(c.Button,{onClick:r,bg:"info700"},"Yes, Delete")))}var w=r("nOHt"),v=r("7HOD"),S=r("aZ9c"),j=l.a.createElement;function k(){var e=Object(s.c)((function(e){return e.auth})),t=(Object(s.b)(),f.a.getState().auth.token),r=e._id,o=(Object(w.useRouter)(),Object(i.useState)([])),u=o[0],m=o[1],g=Object(i.useState)(!1),k=g[0],y=g[1],O=Object(i.useState)(!0),C=O[0],A=O[1],D=Object(i.useState)(!1),_=D[0],B=D[1],E=Object(i.useState)({}),T=E[0],P=E[1],z=Object(i.useState)(""),I=z[0],N=z[1],M=Object(i.useState)(""),F=M[0],Y=M[1],q=Object(i.useState)(""),H=q[0],K=q[1];j(c.Div,null,j(x.a,{href:"/products/339393"},j(c.Anchor,{d:"block",p:"5px 10px"},"Details")),j(c.Anchor,{d:"block",p:"10px"},"Edit"),j(c.Anchor,{textColor:"danger800",d:"block",p:"10px"},"Update"));return Object(i.useEffect)((function(){(function(){var e=Object(n.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d()({headers:{"Access-Control-Allow-Origin":"*",Authorization:"Bearer ".concat(t)},proxy:{host:"104.236.174.88",port:3128},method:"GET",url:"".concat("https://api.steechit.com/","stores/"),params:{user:r}}).then(function(){var e=Object(n.a)(a.a.mark((function e(o){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(o),0===o.data.length){e.next=8;break}return y(!0),N(o.data[0].type),K(o.data[0]._id),console.log(o.data[0]),e.next=8,d()({headers:{"Access-Control-Allow-Origin":"*",Authorization:"Bearer ".concat(t)},proxy:{host:"104.236.174.88",port:3128},method:"GET",url:"".concat("https://api.steechit.com/","products/"),params:{user:r}}).then((function(e){m(e.data),console.log(e.data)})).catch((function(e){console.log(e)}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)})).finally((function(){A(!1)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[r,t]),j(l.a.Fragment,null,j(v.a,null,j(c.Div,{p:"20px",style:{borderBottom:"1px solid #ccc"},d:"flex",justify:"space-between",align:"center"},j(c.Text,{tag:"header",d:{xs:"none",sm:"none",md:"block",lg:"block",xl:"block"},textSize:"title"},"My products"),j(c.Div,{w:{xs:"100%",sm:"100%",md:"auto",lg:"auto",xl:"auto"},d:"flex",align:"center"},j(x.a,{href:"/store/products/create"},j(c.Button,{h:"3rem",p:{x:"1.25rem"},w:"100%",textSize:"body",textColor:"white",bg:"black700",hoverBg:"black800",hoverBorderColor:"info900",m:{r:"0.5rem"}},"Create a product")))),j(c.Div,{w:"100%",p:"20px"},C?j(p.a,null):k?0===u.length?j(l.a.Fragment,null,j(h.a,null),j(x.a,{href:"/profile/store/sell"},j(c.Button,{prefix:j(c.Icon,{name:"Store",size:"16px",color:"white",m:{r:"0.5rem"}}),bg:"warning700",hoverBg:"warning800",rounded:"circle",p:{r:"1.5rem",l:"1rem"},shadow:"3",hoverShadow:"4",m:{t:"2rem",r:"auto",l:"auto"}},"Sell a product"))):j("table",{className:"table"},j("thead",null,j("tr",null,j("th",{scope:"col"},"Image"),j("th",{scope:"col"},"Name"),j("th",{scope:"col"},"Created on"),"fabric"===I?j("th",{scope:"col"},"Material Price"):j(l.a.Fragment,null,j("th",{scope:"col"},"Material Price")," ",j("th",{scope:"col"},"Sowing Price")),j("th",{scope:"col"},"Action"))),j("tbody",null,u.map((function(e,t){return j("tr",null,j("td",{"data-label":"Image"},j(c.Image,{w:"60px",h:"60px",style:{objectSize:"cover"},src:e.productPictures[0].url})),j("td",{"data-label":"Name"},e.productName),j("td",{"data-label":"Created on"},new Date(e.createdAt).toDateString()),"fabric"===I?j("td",{"data-label":"Material Price"},j(S.a,{value:e.fabric.materialPrice,displayType:"text",thousandSeparator:!0,prefix:"\u20a6"})):j(l.a.Fragment,null,j("td",{"data-label":"Material Price"},j(S.a,{value:e.tailor.materialPrice,displayType:"text",thousandSeparator:!0,prefix:"\u20a6"}))," ",j("td",{"data-label":"Sowing Price"},j(S.a,{value:e.tailor.sowingPrice,displayType:"text",thousandSeparator:!0,prefix:"\u20a6"}))),j("td",{"data-label":"Action"},j(c.Dropdown,{isOpen:F===t+1,onClick:function(){Y(F!==t+1?t+1:0)},border:"none",menu:j(c.Div,null,j(x.a,{href:"/product?p_id=".concat(e._id,"&s_id=").concat(H)},j(c.Anchor,{d:"block",p:"5px 10px"},"Details")),j(x.a,{href:"/store/products/".concat(e._id,"?action=edit")},j(c.Anchor,{d:"block",p:"10px"},"Edit")),j(c.Anchor,{textColor:"danger800",d:"block",p:"10px",onClick:function(){P(e._id),B(!0)}},"Delete")),w:"fit-content"},"more")))})))):j(c.Div,{w:"100%",h:"auto",p:"30px",d:"flex",align:"center",justify:"center"},j(c.Div,{textAlign:"center"},j(c.Image,{src:"https://assets.jiji.ng/static/img/profile-redesign/adverts/no-adverts-images/no-adverts-moderation.svg",width:"300px",m:{b:"20px"}}),j(c.Text,{tag:"header",textSize:"title"},"You don't have a store"),j(x.a,{href:"/profile/store/start"},j(c.Button,{prefix:j(c.Icon,{name:"Store",size:"16px",color:"white",m:{r:"0.5rem"}}),bg:"warning700",hoverBg:"warning800",rounded:"circle",p:{r:"1.5rem",l:"1rem"},shadow:"3",hoverShadow:"4",m:{t:"2rem",r:"auto",l:"auto"}},"Create your store")))))),j(b,{isOpen:_,onClose:function(){return B(!1)},product:T}))}}},[["ASrk",0,1,4,2,3,5,6,7,8,9]]]);